{"version":3,"sources":["shared/components/UIElements/Avatar.jsx","users/components/UserItem.jsx","users/components/UserList.jsx","users/pages/Users.jsx","shared/components/FormElements/Button.jsx","shared/hooks/http-hook.js","shared/components/UIElements/Modal.jsx","shared/components/UIElements/ErrorModal.jsx","shared/components/UIElements/Card.jsx"],"names":["Avatar","props","className","style","src","image","alt","width","height","UserItem","item","_id","name","places","Card","to","process","length","UserList","users","textAlign","map","Users","useState","userData","setUserData","useHttpClient","isLoading","error","sendRequest","clearError","useEffect","a","res","console","fetchUsers","ErrorModal","onClear","LoadingSpinner","Button","href","size","inverse","danger","children","exact","type","onClick","disabled","token","useContext","AuthContext","setLoading","setError","config","headers","authToken","useCallback","url","reqMethod","body","axios","post","get","patch","delete","log","data","response","message","ModalOverlay","headerClass","header","onSubmit","contentClass","footerClass","footer","content","e","preventDefault","ReactDOM","createPortal","document","getElementById","Modal","show","onCancel","in","mountOnEnter","unmountOnExit","timeout","classNames"],"mappings":"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","file":"static/js/4.a31562fc.chunk.js","sourcesContent":["import React from \"react\";\n\nimport \"../../../css/shared/UIElements/Avatar.css\";\n\nconst Avatar = (props) => {\n  return (\n    <div className={`avatar ${props.className}`} style={props.style}>\n      <img\n        src={props.image}\n        alt={props.alt}\n        style={{ width: props.width, height: props.width }}\n      />\n    </div>\n  );\n};\n\nexport default Avatar;\n","import React, { Fragment, useContext, useState } from \"react\";\r\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../shared/context/authContext\";\r\n\r\nimport \"../../css/users/components/UserItem.css\";\r\n\r\n// component //\r\nimport Avatar from \"../../shared/components/UIElements/Avatar\";\r\nimport Card from \"../../shared/components/UIElements/Card\";\r\nimport Modal from \"../../shared/components/UIElements/Modal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\r\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\n\r\nconst UserItem = ({ item: { _id, name, image, places } }) => {\r\n  return (\r\n    <Fragment>\r\n      <li className='user-item'>\r\n        <Card className='user-item__content'>\r\n          <Link to={`/${_id}/places`}>\r\n            <div className='user-item__image'>\r\n              <Avatar\r\n                image={`${process.env.REACT_APP_ASSET_URL}/${image}`}\r\n                alt={name}\r\n              />\r\n            </div>\r\n\r\n            <div className='user-item__info'>\r\n              <h2>{name}</h2>\r\n              <h3>\r\n                {places.length} {places.length === 1 ? \"Place\" : \"Places\"}\r\n              </h3>\r\n            </div>\r\n          </Link>\r\n        </Card>\r\n      </li>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nUserItem.propTypes = {};\r\n\r\nexport default UserItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n// COMPONENTS //\r\nimport UserItem from \"./UserItem\";\r\nimport Card from \"../../shared/components/UIElements/Card\";\r\n\r\nimport \"../../css/users/components/UserList.css\";\r\n\r\nconst UserList = ({ users }) => {\r\n  return users.length === 0 ? (\r\n    <div>\r\n      <Card>\r\n        <h2 style={{ textAlign: \"center\" }}> No User Found!! </h2>\r\n      </Card>\r\n    </div>\r\n  ) : (\r\n    <ul className='users-list'>\r\n      {users.map((item) => (\r\n        <UserItem item={item} key={item._id} />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nUserList.propTypes = {};\r\n\r\nexport default UserList;\r\n","import React, { Fragment, useEffect, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\r\n\r\nimport \"../../css/users/pages/Users.css\";\r\n\r\n// components //\r\nimport UserList from \"../components/UserList\";\r\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\r\n\r\nconst Users = (props) => {\r\n  const [userData, setUserData] = useState([]);\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n\r\n  useEffect(() => {\r\n    const fetchUsers = async () => {\r\n      try {\r\n        const res = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/users`,\r\n          \"get\"\r\n        );\r\n        setUserData(res);\r\n      } catch (err) {\r\n        console.error(err || `failed to fetch the users from database.`);\r\n      }\r\n    };\r\n    fetchUsers();\r\n  }, [sendRequest]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      <div>\r\n        {isLoading && (\r\n          <div className='center'>\r\n            <LoadingSpinner />{\" \"}\r\n          </div>\r\n        )}\r\n        {userData && !isLoading && <UserList users={userData} />}\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nUsers.propTypes = {};\r\n\r\nexport default Users;\r\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport \"../../../css/shared/FormElements/Button.css\";\n\nconst Button = (props) => {\n  if (props.href) {\n    return (\n      <a\n        className={`button button--${props.size || \"default\"} ${\n          props.inverse && \"button--inverse\"\n        } ${props.danger && \"button--danger\"}`}\n        href={props.href}\n      >\n        {props.children}\n      </a>\n    );\n  }\n  if (props.to) {\n    return (\n      <Link\n        to={props.to}\n        exact={props.exact}\n        className={`button button--${props.size || \"default\"} ${\n          props.inverse && \"button--inverse\"\n        } ${props.danger && \"button--danger\"}`}\n      >\n        {props.children}\n      </Link>\n    );\n  }\n  return (\n    <button\n      className={`button button--${props.size || \"default\"} ${\n        props.inverse && \"button--inverse\"\n      } ${props.danger && \"button--danger\"}`}\n      type={props.type}\n      onClick={props.onClick}\n      disabled={props.disabled}\n    >\n      {props.children}\n    </button>\n  );\n};\n\nexport default Button;\n","import React, { useState, useCallback, useRef, useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport { TokenExpiredError } from \"jsonwebtoken\";\r\nimport { AuthContext } from \"../../shared/context/authContext\";\r\n\r\nexport const useHttpClient = () => {\r\n  const authContext = useContext(AuthContext);\r\n  const { token } = authContext;\r\n  const [isLoading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  //const activeHttpRequest = useRef([]);\r\n\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      \"x-auth-token\": token,\r\n    },\r\n  };\r\n  const authToken = {\r\n    headers: {\r\n      \"x-auth-token\": token,\r\n    },\r\n  };\r\n\r\n  const sendRequest = useCallback(async (url, reqMethod, body = null) => {\r\n    setLoading(true);\r\n    // @todo -> HttpAbortController\r\n    try {\r\n      let res;\r\n      if (reqMethod === \"post\") {\r\n        res = await axios.post(url, body, config);\r\n      } else if (reqMethod === \"get\") {\r\n        res = await axios.get(url);\r\n      } else if (reqMethod === \"patch\") {\r\n        res = await axios.patch(url, body, config);\r\n      } else if (reqMethod === \"delete\") {\r\n        res = await axios.delete(url, authToken);\r\n        console.log(res);\r\n      } else {\r\n        console.log(\"no request match\");\r\n      }\r\n      setLoading(false);\r\n      return res.data;\r\n    } catch (err) {\r\n      console.error(err.response.data);\r\n      setLoading(false);\r\n      setError(err.response.data.message);\r\n      throw err.response.data;\r\n    }\r\n  }, []);\r\n  const clearError = () => {\r\n    setError(null);\r\n  };\r\n  return {\r\n    isLoading,\r\n    error,\r\n    sendRequest,\r\n    clearError,\r\n  };\r\n};\r\n","import React, { Fragment } from \"react\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\n// components //\r\nimport Backdrop from \"./Backdrop\";\r\n\r\nimport \"../../../css/shared/UIElements/Modal.css\";\r\n\r\nconst ModalOverlay = ({\r\n  className,\r\n  style,\r\n  headerClass,\r\n  header,\r\n  onSubmit,\r\n  contentClass,\r\n  footerClass,\r\n  footer,\r\n  children,\r\n}) => {\r\n  const content = (\r\n    <div className={`modal ${className}`} style={{ style }}>\r\n      <header className={`modal__header ${headerClass}`}>\r\n        <h2> {header} </h2>\r\n      </header>\r\n      <form onSubmit={onSubmit ? onSubmit : (e) => e.preventDefault()}>\r\n        <div className={`modal__content ${contentClass}`}>{children}</div>\r\n        <footer className={`modal__footer ${footerClass}`}>{footer}</footer>\r\n      </form>\r\n    </div>\r\n  );\r\n  return ReactDOM.createPortal(content, document.getElementById(\"modal-hook\"));\r\n};\r\n\r\nexport const Modal = (props) => {\r\n  return (\r\n    <Fragment>\r\n      {props.show && <Backdrop onClick={props.onCancel} />}\r\n      <CSSTransition\r\n        in={props.show}\r\n        mountOnEnter\r\n        unmountOnExit\r\n        timeout={200}\r\n        classNames='modal'\r\n      >\r\n        <ModalOverlay {...props} />\r\n      </CSSTransition>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React from 'react';\n\nimport Modal from './Modal';\nimport Button from '../FormElements/Button';\n\nconst ErrorModal = props => {\n  return (\n    <Modal\n      onCancel={props.onClear}\n      header=\"An Error Occurred!\"\n      show={!!props.error}\n      footer={<Button onClick={props.onClear}>Okay</Button>}\n    >\n      <p>{props.error}</p>\n    </Modal>\n  );\n};\n\nexport default ErrorModal;\n","import React from \"react\";\n\nimport \"../../../css/shared/UIElements/Card.css\";\n\nconst Card = (props) => {\n  return (\n    <div className={`card ${props.className}`} style={props.style}>\n      {props.children}\n    </div>\n  );\n};\n\nexport default Card;\n"],"sourceRoot":""}